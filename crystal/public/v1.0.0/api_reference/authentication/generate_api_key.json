{
  "title": "Generate API Key",
  "method": "POST",
  "path": "/api/auth/keys",
  "summary": "Generate a new API key for authentication",
  "description": "Generate a new API key for authentication",
  "operationId": "generateApiKey",
  "tags": ["Authentication"],
  "deprecated": false,
  "requestBody": {
    "required": true,
    "description": "API key generation request",
    "content": {
      "application/json": {
        "schema": {
          "type": "object",
          "required": ["name", "scopes"],
          "properties": {
            "name": {
              "type": "string",
              "description": "API key name for identification",
              "minLength": 1,
              "maxLength": 100,
              "example": "Production API Key"
            },
            "scopes": {
              "type": "array",
              "description": "API key permissions",
              "items": {
                "type": "string",
                "enum": ["applications:read", "applications:write", "system:read", "system:write"]
              },
              "example": ["applications:read", "applications:write"]
            },
            "expiresIn": {
              "type": "integer",
              "description": "Number of days until the API key expires",
              "minimum": 1,
              "maximum": 365,
              "example": 90
            }
          }
        }
      }
    }
  },
  "responses": {
    "201": {
      "description": "API key generated successfully",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "required": ["id", "name", "key", "scopes", "createdAt"],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "550e8400-e29b-41d4-a716-446655440000"
              },
              "name": {
                "type": "string",
                "example": "Production API Key"
              },
              "key": {
                "type": "string",
                "description": "The generated API key (only shown once)",
                "example": "sk_live_1234567890abcdef1234567890abcdef"
              },
              "scopes": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": ["applications:read", "applications:write"]
              },
              "createdAt": {
                "type": "string",
                "format": "date-time",
                "example": "2024-01-15T10:30:00Z"
              },
              "expiresAt": {
                "type": "string",
                "format": "date-time",
                "example": "2024-04-15T10:30:00Z"
              }
            }
          }
        }
      }
    },
    "400": {
      "description": "Bad request - Invalid input data"
    },
    "401": {
      "description": "Unauthorized - Authentication required"
    },
    "500": {
      "description": "Internal server error"
    }
  },
  "security": [
    {
      "bearerAuth": []
    },
    {
      "ApiKeyAuth": []
    }
  ],
  "securitySchemas": {
    "bearerAuth": {
      "type": "http",
      "scheme": "bearer",
      "bearerFormat": "JWT",
      "description": "JWT Bearer token authentication"
    },
    "ApiKeyAuth": {
      "type": "apiKey",
      "in": "header",
      "name": "X-API-Key",
      "description": "API key for authentication"
    }
  }
}
